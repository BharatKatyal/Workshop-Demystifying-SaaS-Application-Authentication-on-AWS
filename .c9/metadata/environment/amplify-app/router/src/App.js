{"changed":true,"filter":false,"title":"App.js","tooltip":"/amplify-app/router/src/App.js","value":"import axios from \"axios\";\nimport React from \"react\";\n\nfunction App() {\n  const [user, getUser] = React.useState({});\n  const [tenant, setTenant] = React.useState();\n\n  const getPoolForTenant = () => {\n    axios\n      .get(\"https://eyvdv3qoa0.execute-api.us-east-1.amazonaws.com/prod/tenant-get\", {\n        params: {\n          payload: tenant,\n        },\n      })\n      .then((response) => {\n        getUser(response.data.Item);\n      });\n  };\n\n  const handleChange = (event) => {\n    setTenant(event.target.value);\n  };\n\n  const redirect = () => {\n    window.location.pathname =\n      \"/\" + (user.id.includes(\"silo\") ? user.id + \"/index.html\" : \"\");\n  };\n\n  return (\n\n  <div\n  className=\"App\"\n  style={{\n          margin: \"auto\",\n          width: \"50%\",\n          padding: \"10px\",\n          \"background-color\": \"#FF9900\",\n          color: \"white\",\n        }} >\n  <h1>Tenant Selection</h1>\n  <h3> Input your Tenant Identifier (e.g. example.com) below </h3>\n  <input type=\"text\" value={tenant} onChange={handleChange} />\n  <button onClick={getPoolForTenant}>Get Tenant Config</button>\n\n        {user && user.id ? (\n          <div>\n            <ul style={{ \"list-style-type\": \"none\" }}>\n              <li style={{ padding: \"10px\" }}>Tenant: {user.id}</li>\n              <li style={{ padding: \"10px\" }}>\n                Tenant User Pool: {user.userPoolId}\n              </li>\n              <li style={{ padding: \"10px\" }}>\n                Tenant App Client: {user.appClientId}\n              </li>\n            </ul>\n            <button onClick={redirect}>Login to {user.id}</button>\n          </div>\n        ) : (\n          <div>Please Choose a Tenant</div>\n        )}\n      </div>\n\n  );\n}\n\nexport default App;\n\n\n\n","undoManager":{"mark":3,"position":12,"stack":[[{"start":{"row":0,"column":0},"end":{"row":25,"column":0},"action":"remove","lines":["import logo from './logo.svg';","import './App.css';","","function App() {","  return (","    <div className=\"App\">","      <header className=\"App-header\">","        <img src={logo} className=\"App-logo\" alt=\"logo\" />","        <p>","          Edit <code>src/App.js</code> and save to reload.","        </p>","        <a","          className=\"App-link\"","          href=\"https://reactjs.org\"","          target=\"_blank\"","          rel=\"noopener noreferrer\"","        >","          Learn React","        </a>","      </header>","    </div>","  );","}","","export default App;",""],"id":2},{"start":{"row":0,"column":0},"end":{"row":66,"column":0},"action":"insert","lines":["import axios from \"axios\";","import React from \"react\";","","function App() {","  const [user, getUser] = React.useState({});","  const [tenant, setTenant] = React.useState();","","  const getPoolForTenant = () => {","    axios","      .get(\"<REST API URL>/tenant-get\", {","        params: {","          payload: tenant,","        },","      })","      .then((response) => {","        getUser(response.data.Item);","      });","  };","","  const handleChange = (event) => {","    setTenant(event.target.value);","  };","","  const redirect = () => {","    window.location.pathname =","      \"/\" + (user.id.includes(\"silo\") ? user.id + \"/index.html\" : \"\");","  };","","  return (","","  <div","  className=\"App\"","  style={{","          margin: \"auto\",","          width: \"50%\",","          padding: \"10px\",","          \"background-color\": \"#FF9900\",","          color: \"white\",","        }} >","  <h1>Tenant Selection</h1>","  <h3> Input your Tenant Identifier (e.g. example.com) below </h3>","  <input type=\"text\" value={tenant} onChange={handleChange} />","  <button onClick={getPoolForTenant}>Get Tenant Config</button>","","        {user && user.id ? (","          <div>","            <ul style={{ \"list-style-type\": \"none\" }}>","              <li style={{ padding: \"10px\" }}>Tenant: {user.id}</li>","              <li style={{ padding: \"10px\" }}>","                Tenant User Pool: {user.userPoolId}","              </li>","              <li style={{ padding: \"10px\" }}>","                Tenant App Client: {user.appClientId}","              </li>","            </ul>","            <button onClick={redirect}>Login to {user.id}</button>","          </div>","        ) : (","          <div>Please Choose a Tenant</div>","        )}","      </div>","","  );","}","","export default App;",""]}],[{"start":{"row":9,"column":25},"end":{"row":9,"column":26},"action":"remove","lines":[">"],"id":3},{"start":{"row":9,"column":24},"end":{"row":9,"column":25},"action":"remove","lines":["L"]},{"start":{"row":9,"column":23},"end":{"row":9,"column":24},"action":"remove","lines":["R"]},{"start":{"row":9,"column":22},"end":{"row":9,"column":23},"action":"remove","lines":["U"]},{"start":{"row":9,"column":21},"end":{"row":9,"column":22},"action":"remove","lines":[" "]},{"start":{"row":9,"column":20},"end":{"row":9,"column":21},"action":"remove","lines":["I"]},{"start":{"row":9,"column":19},"end":{"row":9,"column":20},"action":"remove","lines":["P"]},{"start":{"row":9,"column":18},"end":{"row":9,"column":19},"action":"remove","lines":["A"]},{"start":{"row":9,"column":17},"end":{"row":9,"column":18},"action":"remove","lines":[" "]},{"start":{"row":9,"column":16},"end":{"row":9,"column":17},"action":"remove","lines":["T"]},{"start":{"row":9,"column":15},"end":{"row":9,"column":16},"action":"remove","lines":["S"]},{"start":{"row":9,"column":14},"end":{"row":9,"column":15},"action":"remove","lines":["E"]},{"start":{"row":9,"column":13},"end":{"row":9,"column":14},"action":"remove","lines":["R"]}],[{"start":{"row":9,"column":12},"end":{"row":9,"column":13},"action":"remove","lines":["<"],"id":4}],[{"start":{"row":9,"column":12},"end":{"row":9,"column":71},"action":"insert","lines":["https://eyvdv3qoa0.execute-api.us-east-1.amazonaws.com/prod"],"id":5}],[{"start":{"row":66,"column":0},"end":{"row":67,"column":0},"action":"insert","lines":["",""],"id":7}],[{"start":{"row":67,"column":0},"end":{"row":69,"column":0},"action":"insert","lines":["aws s3 sync ./build s3://externalidpdemo-uibucketb980636d-1111111/router","",""],"id":8}],[{"start":{"row":67,"column":72},"end":{"row":68,"column":0},"action":"insert","lines":["",""],"id":9},{"start":{"row":68,"column":0},"end":{"row":69,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":69,"column":0},"end":{"row":69,"column":45},"action":"insert","lines":["externalidpdemo-uibucketb980636d-dsjsaeg6v8tx"],"id":10}],[{"start":{"row":67,"column":33},"end":{"row":67,"column":65},"action":"remove","lines":["idpdemo-uibucketb980636d-1111111"],"id":11},{"start":{"row":67,"column":32},"end":{"row":67,"column":33},"action":"remove","lines":["l"]},{"start":{"row":67,"column":31},"end":{"row":67,"column":32},"action":"remove","lines":["a"]},{"start":{"row":67,"column":30},"end":{"row":67,"column":31},"action":"remove","lines":["n"]},{"start":{"row":67,"column":29},"end":{"row":67,"column":30},"action":"remove","lines":["r"]},{"start":{"row":67,"column":28},"end":{"row":67,"column":29},"action":"remove","lines":["e"]},{"start":{"row":67,"column":27},"end":{"row":67,"column":28},"action":"remove","lines":["t"]},{"start":{"row":67,"column":26},"end":{"row":67,"column":27},"action":"remove","lines":["x"]}],[{"start":{"row":67,"column":25},"end":{"row":67,"column":26},"action":"remove","lines":["e"],"id":12}],[{"start":{"row":67,"column":25},"end":{"row":67,"column":70},"action":"insert","lines":["externalidpdemo-uibucketb980636d-dsjsaeg6v8tx"],"id":13}],[{"start":{"row":67,"column":0},"end":{"row":68,"column":0},"action":"remove","lines":["aws s3 sync ./build s3://externalidpdemo-uibucketb980636d-dsjsaeg6v8tx/router",""],"id":14}],[{"start":{"row":68,"column":0},"end":{"row":69,"column":0},"action":"remove","lines":["externalidpdemo-uibucketb980636d-dsjsaeg6v8tx",""],"id":15}]]},"ace":{"folds":[],"scrolltop":839,"scrollleft":0,"selection":{"start":{"row":68,"column":0},"end":{"row":68,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":28,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1696063027826}